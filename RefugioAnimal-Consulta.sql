-- CREACIÓN DE BASE DE DATOS
DROP DATABASE IF EXISTS refugio_animales;
CREATE DATABASE refugio_animales;
USE refugio_animales;

-- TABLAS
CREATE TABLE adoptante (
  id_adoptante INT(11) NOT NULL,
  nombre VARCHAR(100) NOT NULL,
  apellido VARCHAR(100) NOT NULL,
  edad INT(11) DEFAULT NULL,
  correo VARCHAR(150) NOT NULL UNIQUE,
  dpi VARCHAR(20) DEFAULT NULL UNIQUE,
  telefono VARCHAR(20) DEFAULT NULL,
  direccion VARCHAR(255) DEFAULT NULL,
  PRIMARY KEY (id_adoptante)
);

CREATE TABLE mascotas (
  id_animal INT(11) NOT NULL,
  nombre VARCHAR(100) NOT NULL,
  raza VARCHAR(100) DEFAULT NULL,
  especie VARCHAR(50) NOT NULL,
  vacunas TEXT DEFAULT NULL,
  esterilizado TINYINT(1) DEFAULT NULL,
  edad INT(11) DEFAULT NULL,
  estado_disponibilidad VARCHAR(50) NOT NULL,
  PRIMARY KEY (id_animal)
);

CREATE TABLE solicitudes (
  id_solicitud INT(11) NOT NULL,
  id_adoptante INT(11) NOT NULL,
  id_animal INT(11) NOT NULL,
  estado_solicitud VARCHAR(50) NOT NULL,
  fecha_solicitud DATE NOT NULL,
  comentario TEXT DEFAULT NULL,
  PRIMARY KEY (id_solicitud),
  FOREIGN KEY (id_adoptante) REFERENCES adoptante(id_adoptante),
  FOREIGN KEY (id_animal) REFERENCES mascotas(id_animal)
);

CREATE TABLE citas (
  id_cita INT(11) NOT NULL,
  id_solicitud INT(11) DEFAULT NULL,
  fecha_cita DATE NOT NULL,
  hora_cita TIME NOT NULL,
  tipo_cita VARCHAR(100) NOT NULL,
  comentario TEXT DEFAULT NULL,
  PRIMARY KEY (id_cita),
  FOREIGN KEY (id_solicitud) REFERENCES solicitudes(id_solicitud)
);

CREATE TABLE historial_medico (
  id_historial INT(11) NOT NULL,
  id_animal INT(11) NOT NULL,
  vacunas_aplicadas TEXT DEFAULT NULL,
  tratamiento TEXT DEFAULT NULL,
  fecha_revision DATE NOT NULL,
  PRIMARY KEY (id_historial),
  FOREIGN KEY (id_animal) REFERENCES mascotas(id_animal)
);

CREATE TABLE usuarios (
  id_usuario INT(11) NOT NULL,
  usuario VARCHAR(50) NOT NULL UNIQUE,
  contraseña VARCHAR(255) NOT NULL,
  rol VARCHAR(50) NOT NULL,
  id_adoptante INT(11) DEFAULT NULL,
  PRIMARY KEY (id_usuario),
  FOREIGN KEY (id_adoptante) REFERENCES adoptante(id_adoptante)
);

-- DATOS Ingresados
INSERT INTO adoptante (id_adoptante, nombre, apellido, edad, correo, dpi, telefono, direccion) VALUES
(1, 'Juan', 'Pérez', 35, 'juan.perez@email.com', '123456789', '5551234', 'Calle Falsa 123'),
(2, 'María', 'López', 28, 'maria.lopez@email.com', '987654321', '5555678', 'Avenida Siempreviva 742'),
(3, 'Carlos', 'Gómez', 45, 'carlos.gomez@email.com', '112233445', '5559012', 'Bulevar Central 50'),
(4, 'Ana', 'Rodríguez', 22, 'ana.rodriguez@email.com', '667788990', '5553456', 'Residencial Los Robles'),
(5, 'Pedro', 'Sánchez', 50, 'pedro.sanchez@email.com', '543210987', '5557890', 'Zona 10, Edificio A'),
(6, 'Laura', 'Martínez', 31, 'laura.martinez@email.com', '109876543', '5552345', 'Colonia Primavera'),
(7, 'Javier', 'Hernández', 38, 'javier.hernandez@email.com', '345678901', '5556789', 'Calle del Sol 21'),
(8, 'Sofía', 'Díaz', 25, 'sofia.diaz@email.com', '765432109', '5550123', 'Apartamento 3C'),
(9, 'Diego', 'Ruiz', 42, 'diego.ruiz@email.com', '210987654', '5554567', 'Casa Blanca 8'),
(10, 'Elena', 'Torres', 33, 'elena.torres@email.com', '876543210', '5558901', 'Sector El Carmen'),
(11, 'Andrés', 'Flores', 29, 'andres.flores@email.com', '334455667', '5553344', 'La Arboleda'),
(12, 'Lucía', 'García', 24, 'lucia.garcia@email.com', '778899001', '5557788', 'Villa Hermosa'),
(13, 'Ricardo', 'Vargas', 55, 'ricardo.vargas@email.com', '112233440', '5551122', 'Avenida Las Américas'),
(14, 'Valeria', 'Reyes', 27, 'valeria.reyes@email.com', '667788991', '5556677', 'Zona 15, Bloque B'),
(15, 'Manuel', 'Acosta', 40, 'manuel.acosta@email.com', '543210980', '5550011', 'El Campanario'),
(16, 'Gabriela', 'Mendoza', 30, 'gabriela.mendoza@email.com', '109876540', '5554455', 'Calle del Lago'),
(17, 'Fernando', 'Cano', 48, 'fernando.cano@email.com', '345678900', '5558899', 'Residencial San Lucas'),
(18, 'Silvia', 'Ortiz', 36, 'silvia.ortiz@email.com', '765432100', '5552233', 'Casa 99, Centro'),
(19, 'Héctor', 'Núñez', 23, 'hector.nunez@email.com', '210987650', '5556677', 'Bosques de la Paz'),
(20, 'Mónica', 'Castro', 39, 'monica.castro@email.com', '876543211', '5550000', 'Lote 15, Km 16'),
(21, 'Jorge', 'Morales', 32, 'jorge.morales@email.com', '123123123', '5551111', 'Puerta del Sol'),
(22, 'Paula', 'Peña', 26, 'paula.pena@email.com', '456456456', '5552222', 'Condado Naranjo'),
(23, 'Roberto', 'Gil', 52, 'roberto.gil@email.com', '789789789', '5553333', 'Villa Nueva, Sector C'),
(24, 'Diana', 'León', 34, 'diana.leon@email.com', '012012012', '5554444', 'Calle Principal'),
(25, 'Esteban', 'Pinto', 41, 'esteban.pinto@email.com', '321321321', '5555555', 'Zona 1, Centro');

INSERT INTO mascotas (id_animal, nombre, raza, especie, vacunas, esterilizado, edad, estado_disponibilidad) VALUES
(1, 'Luna', 'Labrador', 'Perro', 'Parvovirus, Moquillo', 1, 3, 'disponible'),
(2, 'Milo', 'Siamés', 'Gato', 'Triple Felina', 1, 2, 'adoptado'),
(3, 'Coco', 'Pastor Alemán', 'Perro', 'Rabia, Parvovirus', 1, 5, 'disponible'),
(4, 'Michi', 'Común Europeo', 'Gato', 'Triple Felina', 0, 1, 'en proceso'),
(5, 'Rocky', 'Bulldog', 'Perro', 'Moquillo', 1, 6, 'disponible'),
(6, 'Nala', 'Persa', 'Gato', 'Triple Felina', 1, 4, 'adoptado'),
(7, 'Thor', 'Pitbull', 'Perro', 'Rabia', 1, 2, 'disponible'),
(8, 'Kiara', 'Mestiza', 'Perro', 'Completa', 1, 8, 'disponible'),
(9, 'Zeus', 'Dálmata', 'Perro', 'Moquillo', 1, 1, 'disponible'),
(10, 'Pipo', 'Golden Retriever', 'Perro', 'Completa', 1, 4, 'adoptado'),
(11, 'Gala', 'Pug', 'Perro', 'Parvovirus', 1, 7, 'disponible'),
(12, 'Simba', 'Maine Coon', 'Gato', 'Triple Felina', 1, 3, 'disponible'),
(13, 'Roco', 'Boxer', 'Perro', 'Rabia', 0, 2, 'en proceso'),
(14, 'Bella', 'Chihuahua', 'Perro', 'Completa', 1, 5, 'disponible'),
(15, 'Kira', 'Bengalí', 'Gato', 'Triple Felina', 1, 1, 'disponible'),
(16, 'Max', 'Husky', 'Perro', 'Completa', 1, 3, 'disponible'),
(17, 'Sasha', 'Yorkshire', 'Perro', 'Parvovirus', 1, 6, 'adoptado'),
(18, 'Leo', 'Angora', 'Gato', 'Triple Felina', 1, 2, 'disponible'),
(19, 'Toby', 'Schnauzer', 'Perro', 'Moquillo', 1, 4, 'disponible'),
(20, 'Cleo', 'Sphynx', 'Gato', 'Triple Felina', 0, 5, 'disponible'),
(21, 'Oliver', 'Bichón Frisé', 'Perro', 'Rabia', 1, 1, 'adoptado'),
(22, 'Oso', 'Terranova', 'Perro', 'Completa', 1, 7, 'disponible'),
(23, 'Mia', 'Scottish Fold', 'Gato', 'Triple Felina', 1, 3, 'disponible'),
(24, 'Bolt', 'Galgo', 'Perro', 'Parvovirus', 1, 2, 'disponible'),
(25, 'Fiona', 'Cocker Spaniel', 'Perro', 'Completa', 1, 4, 'en proceso'),
(26, 'Ron', 'Doberman', 'Perro', 'Rabia', 1, 5, 'disponible'),
(27, 'Sky', 'Mestizo', 'Perro', 'Moquillo', 1, 1, 'disponible'),
(28, 'Pancha', 'Persa', 'Gato', 'Triple Felina', 1, 6, 'adoptado'),
(29, 'Balú', 'San Bernardo', 'Perro', 'Completa', 1, 3, 'disponible'),
(30, 'Nina', 'Mestiza', 'Perro', 'Parvovirus', 1, 2, 'disponible');

INSERT INTO solicitudes (id_solicitud, id_adoptante, id_animal, estado_solicitud, fecha_solicitud, comentario) VALUES
(1, 1, 1, 'aprobada', '2025-01-10', 'Primer solicitante. Excelente perfil.'),
(2, 2, 1, 'rechazada', '2025-01-11', 'Segundo solicitante para Luna. Se priorizó a Juan.'),
(3, 3, 3, 'pendiente', '2025-01-15', 'Solicitud para Coco. En espera de entrevista.'),
(4, 4, 4, 'en proceso', '2025-01-16', 'Solicitud para Michi. Entrevista agendada.'),
(5, 5, 5, 'aprobada', '2025-01-18', 'Perfil apto para Rocky. Pendiente de papeleo final.'),
(6, 6, 2, 'aprobada', '2025-01-20', 'Solicitud para Milo. Aprobada, ya está adoptado.'),
(7, 7, 7, 'pendiente', '2025-01-22', 'Interesado en Thor. Verificando antecedentes.'),
(8, 8, 8, 'aprobada', '2025-01-25', 'Solicitud para Kiara. Aprobada.'),
(9, 9, 9, 'pendiente', '2025-01-26', 'Pregunta por Zeus. Pendiente de visita domiciliaria.'),
(10, 10, 10, 'aprobada', '2025-01-28', 'Solicitud aprobada para Pipo. Excelente hogar.'),
(11, 11, 11, 'rechazada', '2025-01-30', 'No cumple con requisitos para Gala.'),
(12, 12, 12, 'pendiente', '2025-02-01', 'Solicitud para Simba. En revisión.'),
(13, 13, 13, 'en proceso', '2025-02-05', 'Solicitud para Roco. Visita en curso.'),
(14, 14, 14, 'aprobada', '2025-02-08', 'Solicitud para Bella. Aprobada.'),
(15, 15, 15, 'pendiente', '2025-02-10', 'Solicitud para Kira. Pendiente.'),
(16, 16, 16, 'en proceso', '2025-02-12', 'Max: Solicitud en proceso de documentación.'),
(17, 17, 17, 'aprobada', '2025-02-15', 'Sasha: Solicitud aprobada.'),
(18, 18, 18, 'pendiente', '2025-02-17', 'Leo: Solicitud recibida.'),
(19, 19, 19, 'aprobada', '2025-02-20', 'Toby: Aprobada, perfil excelente.'),
(20, 20, 20, 'rechazada', '2025-02-22', 'Cleo: Rechazada por falta de experiencia con la raza.'),
(21, 21, 21, 'aprobada', '2025-02-25', 'Oliver: Aprobada.'),
(22, 22, 22, 'pendiente', '2025-03-01', 'Oso: Solicitud en espera.'),
(23, 23, 23, 'en proceso', '2025-03-05', 'Mia: En proceso, visita domiciliaria.'),
(24, 24, 24, 'aprobada', '2025-03-08', 'Bolt: Aprobada.'),
(25, 25, 25, 'pendiente', '2025-03-10', 'Fiona: Solicitud recibida.'),
(26, 1, 26, 'rechazada', '2025-03-12', 'Juan: Segunda solicitud. Se sugiere esperar.'),
(27, 3, 27, 'pendiente', '2025-03-15', 'Coco: Segunda solicitud para otro animal.'),
(28, 5, 28, 'aprobada', '2025-03-18', 'Rocky: Segunda mascota aprobada.'),
(29, 7, 29, 'pendiente', '2025-03-20', 'Thor: Solicitud para Balú.'),
(30, 9, 30, 'aprobada', '2025-03-22', 'Zeus: Solicitud para Nina. Aprobada.');

INSERT INTO citas (id_cita, id_solicitud, fecha_cita, hora_cita, tipo_cita, comentario) VALUES
(1, 1, '2025-01-12', '10:00:00', 'entrevista', 'Entrevista con Juan Pérez por Luna.'),
(2, 4, '2025-01-17', '15:30:00', 'visita', 'Visita domiciliaria para Michi.'),
(3, 5, '2025-01-19', '11:00:00', 'entrevista', 'Entrevista final para Rocky.'),
(4, 7, '2025-01-24', '09:00:00', 'entrevista', 'Entrevista inicial con interesado en Thor.'),
(5, 9, '2025-01-27', '14:00:00', 'visita', 'Visita de pre-adopción para Zeus.'),
(6, 13, '2025-02-06', '16:00:00', 'visita', 'Visita de seguimiento para Roco.'),
(7, 16, '2025-02-13', '10:30:00', 'entrevista', 'Entrevista para Max.'),
(8, 18, '2025-02-19', '12:00:00', 'entrevista', 'Entrevista con solicitante de Leo.'),
(9, 20, '2025-02-23', '14:30:00', 'entrevista', 'Entrevista con solicitante de Cleo (rechazada).'),
(10, 23, '2025-03-06', '11:30:00', 'visita', 'Visita domiciliaria para Mia.'),
(11, 25, '2025-03-11', '09:30:00', 'entrevista', 'Entrevista para Fiona.'),
(12, 28, '2025-03-20', '16:30:00', 'entrevista', 'Entrevista para la segunda adopción.'),
(13, 30, '2025-03-24', '10:00:00', 'visita', 'Visita de pre-adopción para Nina.'),
(14, NULL, '2025-04-01', '10:00:00', 'seguimiento post-adopción', 'Seguimiento de Milo (id_animal 2) - Cita sin solicitud.'),
(15, NULL, '2025-04-02', '11:00:00', 'seguimiento post-adopción', 'Seguimiento de Nala (id_animal 6).'),
(16, 1, '2025-04-03', '12:00:00', 'seguimiento post-adopción', 'Seguimiento de Luna (id_animal 1).'),
(17, 5, '2025-04-04', '13:00:00', 'seguimiento post-adopción', 'Seguimiento de Rocky (id_animal 5).'),
(18, 8, '2025-04-05', '14:00:00', 'seguimiento post-adopción', 'Seguimiento de Kiara (id_animal 8).'),
(19, 10, '2025-04-07', '15:00:00', 'seguimiento post-adopción', 'Seguimiento de Pipo (id_animal 10).'),
(20, 14, '2025-04-08', '16:00:00', 'seguimiento post-adopción', 'Seguimiento de Bella (id_animal 14).'),
(21, 17, '2025-04-09', '17:00:00', 'seguimiento post-adopción', 'Seguimiento de Sasha (id_animal 17).'),
(22, 19, '2025-04-10', '18:00:00', 'seguimiento post-adopción', 'Seguimiento de Toby (id_animal 19).'),
(23, 21, '2025-04-11', '09:00:00', 'seguimiento post-adopción', 'Seguimiento de Oliver (id_animal 21).'),
(24, 24, '2025-04-12', '10:00:00', 'seguimiento post-adopción', 'Seguimiento de Bolt (id_animal 24).'),
(25, 28, '2025-04-14', '11:00:00', 'seguimiento post-adopción', 'Seguimiento de la segunda adopción (id_animal 28).');

INSERT INTO historial_medico (id_historial, id_animal, vacunas_aplicadas, tratamiento, fecha_revision) VALUES
(1, 1, 'Parvovirus, Moquillo, Rabia (2025-01-05)', 'Ninguno', '2025-01-05'),
(2, 2, 'Triple Felina, Rabia (2024-12-01)', 'Recuperación de cirugía de esterilización', '2025-01-15'),
(3, 3, 'Rabia (2025-01-10)', 'Tratamiento dental menor', '2025-01-10'),
(4, 4, 'Triple Felina (2025-01-12)', 'Ninguno', '2025-01-12'),
(5, 5, 'Moquillo (2025-01-15)', 'Dieta especial por alergia al pollo', '2025-01-15'),
(6, 6, 'Triple Felina (2024-11-20)', 'Ninguno', '2024-11-20'),
(7, 7, 'Rabia (2025-01-20)', 'Revisión general y desparasitación', '2025-01-20'),
(8, 8, 'Completa (2024-10-01)', 'Ninguno', '2025-01-25'),
(9, 9, 'Moquillo (2025-01-26)', 'Control de peso', '2025-01-26'),
(10, 10, 'Completa (2024-12-28)', 'Ninguno', '2024-12-28'),
(11, 11, 'Parvovirus (2025-01-30)', 'Ninguno', '2025-01-30'),
(12, 12, 'Triple Felina (2025-02-01)', 'Revisión por estrés', '2025-02-01'),
(13, 13, 'Rabia (2025-02-05)', 'Curación de herida menor', '2025-02-05'),
(14, 14, 'Completa (2025-02-08)', 'Ninguno', '2025-02-08'),
(15, 15, 'Triple Felina (2025-02-10)', 'Ninguno', '2025-02-10'),
(16, 16, 'Completa (2025-02-12)', 'Revisión ocular', '2025-02-12'),
(17, 17, 'Parvovirus (2025-02-15)', 'Ninguno', '2025-02-15'),
(18, 18, 'Triple Felina (2025-02-17)', 'Dieta hipoalergénica', '2025-02-17'),
(19, 19, 'Moquillo (2025-02-20)', 'Control de otitis', '2025-02-20'),
(20, 20, 'Triple Felina (2025-02-22)', 'Ninguno', '2025-02-22'),
(21, 21, 'Rabia (2025-02-25)', 'Ninguno', '2025-02-25'),
(22, 22, 'Completa (2025-03-01)', 'Control de displasia', '2025-03-01'),
(23, 23, 'Triple Felina (2025-03-05)', 'Ninguno', '2025-03-05'),
(24, 24, 'Parvovirus (2025-03-08)', 'Revisión de patas', '2025-03-08'),
(25, 25, 'Completa (2025-03-10)', 'Ninguno', '2025-03-10'),
(26, 26, 'Rabia (2025-03-12)', 'Desparasitación', '2025-03-12'),
(27, 27, 'Moquillo (2025-03-15)', 'Ninguno', '2025-03-15'),
(28, 28, 'Completa (2025-03-18)', 'Revisión de piel', '2025-03-18'),
(29, 29, 'Rabia (2025-03-20)', 'Ninguno', '2025-03-20'),
(30, 30, 'Parvovirus (2025-03-22)', 'Tratamiento hormonal', '2025-03-22');

INSERT INTO usuarios (id_usuario, usuario, contraseña, rol, id_adoptante) VALUES
(1, 'admin_sys', 'admin123', 'administrador', NULL),
(2, 'supervisor_vet', 'vetpass', 'administrador', NULL),
(3, 'jperez', 'juan123', 'adoptante', 1),
(4, 'mlopez', 'maria456', 'adoptante', 2),
(5, 'cgomez', 'carlos789', 'adoptante', 3),
(6, 'arodriguez', 'ana111', 'adoptante', 4),
(7, 'psanchez', 'pedro222', 'adoptante', 5),
(8, 'lmartinez', 'laura333', 'adoptante', 6),
(9, 'jhernandez', 'javier444', 'adoptante', 7),
(10, 'sdiaz', 'sofia555', 'adoptante', 8),
(11, 'druiz', 'diego666', 'adoptante', 9),
(12, 'etorres', 'elena777', 'adoptante', 10),
(13, 'aflores', 'andres888', 'adoptante', 11),
(14, 'lgarcia', 'lucia999', 'adoptante', 12),
(15, 'rvargas', 'ricardo101', 'adoptante', 13),
(16, 'vreyes', 'valeria202', 'adoptante', 14),
(17, 'macosta', 'manuel303', 'adoptante', 15),
(18, 'gmendoza', 'gabriela404', 'adoptante', 16),
(19, 'fcano', 'fernando505', 'adoptante', 17),
(20, 'sortiz', 'silvia606', 'adoptante', 18),
(21, 'hnunez', 'hector707', 'adoptante', 19),
(22, 'mcastro', 'monica808', 'adoptante', 20),
(23, 'jmorales', 'jorge909', 'adoptante', 21),
(24, 'ppena', 'paula112', 'adoptante', 22),
(25, 'rgil', 'roberto223', 'adoptante', 23),
(26, 'dleon', 'diana334', 'adoptante', 24),
(27, 'epinto', 'esteban445', 'adoptante', 25),
(28, 'adop_temp', 'temp123', 'adoptante', NULL);

